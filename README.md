# MRT with peer effect


##### Simulation and estimation functions

The simulation results for each scenario are generated by the following R files.

File | Description
---- | ----
[rsnmm.R](rsnmm.R) | Function library (group errors were fixed through time)
[function.R](function.R) | Function library (group error were set as time series)
[slope.R](slope.R) | Function library (group errors and random slopes were fixed through time)
[example.Rmd](example.Rmd) | Loads zoo extensions, generates data and runs an analysis similar to the application presented in the paper
[group.R](group.R) | Group structures
[init.R](init.R) | Loads required packages and reads source files
[xgeepack.R](xgeepack.R) | Extensions for the geepack R package; extract, from a geepack model object, elements (e.g. working covariance, estimating function) needed for variance calculations
[xzoo.R](xzoo.R) | Extensions for the zoo R package; apply lags, difference, rolling summaries to a sample of time series


##### Application to simulated data

we provide an example using simulated data. All the analysis are based on data generated with group structures. 

File | Description
---- | ----
[sim-omit.Rmd](sim-omit.Rmd) | Generating and analyzing correlated data using proposed methods.
[wc-omit.Rmd](wc-omit.Rmd) | Generating and analyzing correlated data using only "weighted and centered"" method and "GEE AR1".


##### Data files

File | Description
---- | ----
[sim-omit_mrt.RData](sim-omit_mrt.RData) | Replicate the results from "Assessing time-varying causal effect moderation in mobile health"


**The files sourced in the simulation analysis are pretty messy right now, will work on it later**



